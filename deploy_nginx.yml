---
- name: Deploy Nginx Pod
  hosts: localhost
  become: yes
  tasks:
    - name: install pre-requisites
      pip:
        name:
          - openshift
          - pyyaml
          - kubernetes
        executable: pip3

    - name: Run Nginx Pod
          k8s:
            api_version: v1
            kind: Pod
            name: mynginx
            namespace: default
            definition:
              metadata:
                labels:
                  app: nginx
              spec:
                containers:
                  - name: nginx
                    image: nginx
                    ports:
                      - containerPort: 80
        state: present
        wait: yes
        wait_timeout: 300





